<!doctype html>
<html lang="en" dir="ltr">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Admin Login — Prok</title>
<link rel="stylesheet" href="../assets/css/style.css"></head>
<body>
<div class="admin-wrap">
  <h2>Admin Login</h2>
  <p>Sign in with the Google account that is allowed in Firestore rules.</p>
  <button id="googleBtn" class="btn">Sign in with Google</button>
  <p id="msg" style="color:#f88"></p>
</div>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="../assets/js/firebase-config.js"></script>
<script>
if(!window.firebaseConfig){ document.getElementById('msg').textContent='أضف firebase-config.js'; }
else {
  firebase.initializeApp(window.firebaseConfig);
  const auth = firebase.auth();
  const provider = new firebase.auth.GoogleAuthProvider();
  document.getElementById('googleBtn').addEventListener('click', ()=> auth.signInWithPopup(provider).then(()=> location.href='dashboard.html').catch(e=> document.getElementById('msg').textContent=e.message));
  auth.onAuthStateChanged(u=>{ if(u) location.href='dashboard.html'; });
}
</script>
</body>
</html>
