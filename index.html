<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abdullah - Ù…ØªØ¬Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù…ØªÙ…ÙŠØ²</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Ø£Ù†Ù…Ø§Ø· CSS Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ØªØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡ÙŠ */
        /* ... (Ø¬Ù…ÙŠØ¹ Ø£Ù†Ù…Ø§Ø· CSS Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©) ... */
        
        /* Ø¥Ø¶Ø§ÙØ© Ø£Ù†Ù…Ø§Ø· Ø¬Ø¯ÙŠØ¯Ø© */
        .admin-link {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 999;
            animation: bounce 2s infinite;
        }
        
        .real-time-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--error-color);
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: pulse 1.5s infinite;
        }
        
        .firebase-connected {
            position: fixed;
            bottom: 80px;
            left: 20px;
            background: var(--success-color);
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            display: none;
            z-index: 999;
        }
        
        .firebase-connected.show {
            display: block;
            animation: slideInLeft 0.5s ease;
        }
        
        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
        }
        
        .content-placeholder {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
            border-radius: 4px;
            min-height: 20px;
            margin: 10px 0;
        }
        
        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        body.dark-mode .content-placeholder {
            background: linear-gradient(90deg, #2d3748 25%, #4a5568 50%, #2d3748 75%);
            background-size: 200% 100%;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="logo">
            Prok <span class="logo-icon">âœ¨</span>
        </div>
        
        <nav class="nav-links">
            <a href="#home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            <a href="#apps">Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª</a>
            <a href="#games">Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</a>
            <a href="#blog" onclick="loadBlogPosts()">Ø§Ù„Ù…Ø¯ÙˆÙ†Ø©</a>
            <a href="#contact">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a>
        </nav>
        
        <div class="user-actions">
            <div class="theme-toggle" onclick="toggleTheme()">
                <i class="fas fa-moon"></i>
            </div>
            <div class="user-profile" onclick="toggleAuthForms()" id="userProfile">
                <i class="fas fa-user"></i>
            </div>
        </div>
    </header>

    <div class="container">
        <section class="hero">
            <h1>Welcome</h1>
            <p>Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø§Ù„Ø¹Ø§Ø¨ ÙˆØ§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª</p>
            
            <div class="search-bar">
                <input type="text" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† ØªØ·Ø¨ÙŠÙ‚ Ø£Ùˆ Ù„Ø¹Ø¨Ø©..." id="searchInput">
                <button onclick="searchContent()"><i class="fas fa-search"></i> Ø¨Ø­Ø«</button>
            </div>
        </section>

        <div class="carousel">
            <div class="carousel-header">
                <h3 class="carousel-title">Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ø£ÙƒØ«Ø± ØªØ­Ù…ÙŠÙ„Ø§Ù‹</h3>
                <div class="carousel-filters">
                    <button class="filter-btn active" onclick="filterContent('popular')"><i class="fas fa-fire"></i> Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©</button>
                    <button class="filter-btn" onclick="filterContent('top-rated')"><i class="fas fa-star"></i> Ø§Ù„Ø£Ø¹Ù„Ù‰ ØªÙ‚ÙŠÙŠÙ…Ø§Ù‹</button>
                    <button class="filter-btn" onclick="filterContent('new')"><i class="fas fa-clock"></i> Ø­Ø¯ÙŠØ«Ø©</button>
                </div>
            </div>
            
            <div class="carousel-container" id="popularApps">
                <div class="content-placeholder" style="height: 300px; width: 250px;"></div>
                <div class="content-placeholder" style="height: 300px; width: 250px;"></div>
                <div class="content-placeholder" style="height: 300px; width: 250px;"></div>
            </div>
            
            <div class="carousel-nav">
                <button class="carousel-nav-btn" onclick="scrollCarousel('popularApps', -250)">â®</button>
                <div class="carousel-nav-numbers">
                    <button class="carousel-nav-number active">1</button>
                    <button class="carousel-nav-number">2</button>
                    <button class="carousel-nav-number">3</button>
                </div>
                <button class="carousel-nav-btn" onclick="scrollCarousel('popularApps', 250)">â¯</button>
            </div>
        </div>

        <div class="carousel">
            <div class="carousel-header">
                <h3 class="carousel-title">Ø£Ø­Ø¯Ø« Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</h3>
                <div class="carousel-filters">
                    <button class="filter-btn active" onclick="filterGames('popular')"><i class="fas fa-fire"></i> Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©</button>
                    <button class="filter-btn" onclick="filterGames('top-rated')"><i class="fas fa-star"></i> Ø§Ù„Ø£Ø¹Ù„Ù‰ ØªÙ‚ÙŠÙŠÙ…Ø§Ù‹</button>
                    <button class="filter-btn" onclick="filterGames('new')"><i class="fas fa-clock"></i> Ø­Ø¯ÙŠØ«Ø©</button>
                </div>
            </div>
            
            <div class="carousel-container" id="latestGames">
                <div class="content-placeholder" style="height: 300px; width: 250px;"></div>
                <div class="content-placeholder" style="height: 300px; width: 250px;"></div>
                <div class="content-placeholder" style="height: 300px; width: 250px;"></div>
            </div>
            
            <div class="carousel-nav">
                <button class="carousel-nav-btn" onclick="scrollCarousel('latestGames', -250)">â®</button>
                <div class="carousel-nav-numbers">
                    <button class="carousel-nav-number active">1</button>
                    <button class="carousel-nav-number">2</button>
                    <button class="carousel-nav-number">3</button>
                </div>
                <button class="carousel-nav-btn" onclick="scrollCarousel('latestGames', 250)">â¯</button>
            </div>
        </div>

        <div class="app-grid" id="featuredApps">
            <div class="content-placeholder" style="height: 350px;"></div>
            <div class="content-placeholder" style="height: 350px;"></div>
            <div class="content-placeholder" style="height: 350px;"></div>
        </div>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ù…Ø¯ÙˆÙ†Ø© -->
        <div class="carousel">
            <div class="carousel-header">
                <h3 class="carousel-title">Ø£Ø­Ø¯Ø« Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª</h3>
                <button class="btn" onclick="loadBlogPosts()">
                    <i class="fas fa-sync-alt"></i> ØªØ­Ø¯ÙŠØ«
                </button>
            </div>
            
            <div class="app-grid" id="blogPosts">
                <div class="content-placeholder" style="height: 250px;"></div>
                <div class="content-placeholder" style="height: 250px;"></div>
            </div>
        </div>
    </div>

    <!-- Ø±Ø§Ø¨Ø· Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ù„Ù„Ù…Ø³Ø¤ÙˆÙ„ -->
    <a href="admin/index.html" class="admin-link" title="Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…">
        <i class="fas fa-cog"></i>
        <span class="real-time-badge" id="adminBadge">!</span>
    </a>
    
    <div class="firebase-connected" id="firebaseStatus">
        <i class="fas fa-check-circle"></i> Ù…ØªØµÙ„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    </div>

    <!-- Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© -->
    <div class="auth-forms" id="authForms">
        <!-- Ù…Ø­ØªÙˆÙ‰ Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ÙŠØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡Ùˆ -->
        <!-- ... (Ù†ÙØ³ Ù…Ø­ØªÙˆÙ‰ Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚) ... -->
    </div>

    <div class="overlay" id="overlay" onclick="hideAuthForms()"></div>

    <!-- ØªØ­Ù…ÙŠÙ„ Firebase -->
    <script src="assets/js/auth.js"></script>
    
    <!-- Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª ÙˆØ§Ù„Ø£Ù„Ø¹Ø§Ø¨ (Ø³ÙŠØªÙ… Ø§Ø³ØªØ¨Ø¯Ø§Ù„Ù‡Ø§ Ø¨Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù…Ù† Firebase)
        const popularApps = [];
        const latestGames = [];
        const featuredApps = [];
        let blogPosts = [];

        // Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
        let currentTheme = localStorage.getItem('theme') || 'light';
        let isLoggedIn = false;
        let userData = null;
        let firebaseReady = false;

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹
        async function initializeSite() {
            // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³Ù…Ø© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
            if (currentTheme === 'dark') {
                document.body.classList.add('dark-mode');
                document.querySelector('.theme-toggle i').className = 'fas fa-sun';
            }

            // ØªÙ‡ÙŠØ¦Ø© Firebase
            await initializeFirebase();
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
            checkAuthState();
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰
            loadContent();
            
            // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ±Ø§Øª Ù„Ù„Ø¹Ù†Ø§ØµØ±
            animateElements();
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
        function checkAuthState() {
            if (typeof auth !== 'undefined') {
                auth.onAuthStateChanged((user) => {
                    if (user) {
                        // Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                        isLoggedIn = true;
                        userData = {
                            uid: user.uid,
                            name: user.displayName || user.email.split('@')[0],
                            email: user.email,
                            photoURL: user.photoURL
                        };
                        
                        updateUserProfile();
                        showNotification(`Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ø¹ÙˆØ¯ØªÙƒ ${userData.name}`);
                    } else {
                        // Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                        isLoggedIn = false;
                        userData = null;
                        document.getElementById('userProfile').innerHTML = '<i class="fas fa-user"></i>';
                        document.getElementById('userProfile').style.background = 'linear-gradient(135deg, var(--primary-color), var(--accent-color))';
                    }
                });
            }
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù…Ù† Firebase
        async function loadContent() {
            if (typeof db !== 'undefined') {
                try {
                    // Ø¬Ù„Ø¨ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©
                    const appsSnapshot = await db.collection('apps')
                        .where('featured', '==', true)
                        .orderBy('downloads', 'desc')
                        .limit(5)
                        .get();
                    
                    appsSnapshot.forEach(doc => {
                        popularApps.push({ id: doc.id, ...doc.data() });
                    });
                    
                    // Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨
                    const gamesSnapshot = await db.collection('games')
                        .where('featured', '==', true)
                        .orderBy('releaseDate', 'desc')
                        .limit(5)
                        .get();
                    
                    gamesSnapshot.forEach(doc => {
                        latestGames.push({ id: doc.id, ...doc.data() });
                    });
                    
                    // Ø¬Ù„Ø¨ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù…Ù…ÙŠØ²Ø©
                    const featuredSnapshot = await db.collection('apps')
                        .where('premium', '==', true)
                        .limit(3)
                        .get();
                    
                    featuredSnapshot.forEach(doc => {
                        featuredApps.push({ id: doc.id, ...doc.data() });
                    });
                    
                    // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­ØªÙˆÙ‰
                    loadCarousel('popularApps', popularApps);
                    loadCarousel('latestGames', latestGames);
                    loadFeaturedApps();
                    
                    // Ø¥Ø¸Ù‡Ø§Ø± Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„
                    document.getElementById('firebaseStatus').classList.add('show');
                    setTimeout(() => {
                        document.getElementById('firebaseStatus').classList.remove('show');
                    }, 3000);
                    
                } catch (error) {
                    console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰:', error);
                    // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£
                    loadDefaultContent();
                }
            } else {
                // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Firebase Ø¬Ø§Ù‡Ø²Ø§Ù‹
                loadDefaultContent();
            }
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
        function loadDefaultContent() {
            // Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª
            const defaultApps = [
                { 
                    name: 'ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Pro', 
                    icon: 'ğŸ“', 
                    description: 'ØªØ·Ø¨ÙŠÙ‚ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…ØªÙ‚Ø¯Ù… Ù…Ø¹ Ù…Ø²Ø§Ù…Ù†Ø© Ø³Ø­Ø§Ø¨ÙŠØ©', 
                    rating: 5, 
                    downloads: '1M+', 
                    badge: 'Ø´Ø§Ø¦Ø¹',
                    featured: true
                },
                // ... ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø£Ø®Ø±Ù‰
            ];
            
            // Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨
            const defaultGames = [
                {
                    name: 'Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ù„ØºØ§Ø² Ø§Ù„Ù…Ø«ÙŠØ±Ø©',
                    icon: 'ğŸ®',
                    description: 'ØªØ­Ø¯ÙŠ Ø£Ù„ØºØ§Ø² Ù…Ø¹ Ø±Ø³ÙˆÙ… Ù…ØªØ­Ø±ÙƒØ© Ù…Ø°Ù‡Ù„Ø©',
                    rating: 4.5,
                    downloads: '500K+',
                    badge: 'Ø¬Ø¯ÙŠØ¯',
                    featured: true
                },
                // ... Ø£Ù„Ø¹Ø§Ø¨ Ø£Ø®Ø±Ù‰
            ];
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
            loadCarousel('popularApps', defaultApps);
            loadCarousel('latestGames', defaultGames);
            loadFeaturedApps();
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª Ù…Ù† Ø§Ù„Ù…Ø¯ÙˆÙ†Ø©
        async function loadBlogPosts() {
            const blogPostsContainer = document.getElementById('blogPosts');
            blogPostsContainer.innerHTML = `
                <div class="content-placeholder" style="height: 250px;"></div>
                <div class="content-placeholder" style="height: 250px;"></div>
            `;
            
            if (typeof db !== 'undefined') {
                try {
                    const querySnapshot = await db.collection('posts')
                        .orderBy('createdAt', 'desc')
                        .limit(4)
                        .get();
                    
                    blogPosts = [];
                    querySnapshot.forEach(doc => {
                        blogPosts.push({ id: doc.id, ...doc.data() });
                    });
                    
                    displayBlogPosts();
                } catch (error) {
                    console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª:', error);
                    blogPostsContainer.innerHTML = '<p>Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª</p>';
                }
            } else {
                // Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ù„Ù…Ù‚Ø§Ù„Ø§Øª
                blogPosts = [
                    {
                        title: 'ÙƒÙŠÙÙŠØ© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©',
                        content: 'Ø¯Ù„ÙŠÙ„ Ø´Ø§Ù…Ù„ Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„ØªÙŠ ØªÙ†Ø§Ø³Ø¨ Ø§Ø­ØªÙŠØ§Ø¬Ø§ØªÙƒ',
                        createdAt: new Date(),
                        author: 'ÙØ±ÙŠÙ‚ Prok'
                    },
                    {
                        title: 'Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù„Ø¹Ø§Ù… 2023',
                        content: 'ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø£Ø­Ø¯Ø« ÙˆØ£ÙØ¶Ù„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù„Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø§Ù…',
                        createdAt: new Date(Date.now() - 86400000),
                        author: 'ÙØ±ÙŠÙ‚ Prok'
                    }
                ];
                
                displayBlogPosts();
            }
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª ÙÙŠ Ø§Ù„Ù…Ø¯ÙˆÙ†Ø©
        function displayBlogPosts() {
            const blogPostsContainer = document.getElementById('blogPosts');
            
            if (blogPosts.length === 0) {
                blogPostsContainer.innerHTML = '<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‚Ø§Ù„Ø§Øª Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†</p>';
                return;
            }
            
            blogPostsContainer.innerHTML = blogPosts.map(post => `
                <div class="app-card">
                    <h3>${post.title}</h3>
                    <p>${post.content.substring(0, 100)}...</p>
                    <div class="post-meta">
                        <small>Ø¨ÙˆØ§Ø³Ø·Ø©: ${post.author} â€¢ ${post.createdAt.toDate ? post.createdAt.toDate().toLocaleDateString('ar-SA') : new Date(post.createdAt).toLocaleDateString('ar-SA')}</small>
                    </div>
                    <button class="btn" onclick="viewPost('${post.id}')"><i class="fas fa-book-open"></i> Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ø²ÙŠØ¯</button>
                </div>
            `).join('');
        }

        // Ø¹Ø±Ø¶ Ù…Ù‚Ø§Ù„ Ù…ÙØµÙ„
        function viewPost(postId) {
            const post = blogPosts.find(p => p.id === postId);
            if (post) {
                // ÙÙŠ Ø§Ù„ÙˆØ§Ù‚Ø¹ØŒ ÙŠÙ…ÙƒÙ†Ùƒ ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„Ù…Ù‚Ø§Ù„Ø©
                alert(`Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‚Ø§Ù„: ${post.title}`);
            } else {
                // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ø§Ù„Ù…Ù‚Ø§Ù„ Ù…Ø­Ù…Ù„Ù‹Ø§ØŒ Ø§Ù†ØªÙ‚Ù„ Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„Ù…Ø¯ÙˆÙ†Ø©
                window.location.href = 'blog/index.html';
            }
        }

        // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ø­ØªÙˆÙ‰
        function searchContent() {
            const searchTerm = document.getElementById('searchInput').value.trim();
            if (searchTerm) {
                // ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø­Ù‚ÙŠÙ‚ÙŠØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Firebase
                alert(`Ø³ÙŠØªÙ… Ø§Ù„Ø¨Ø­Ø« Ø¹Ù†: ${searchTerm}`);
                // window.location.href = `search.html?q=${encodeURIComponent(searchTerm)}`;
            }
        }

        // ØªØµÙÙŠØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰
        function filterContent(filterType) {
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø§Ø· Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù†Ø´Ø§Ø· Ù„Ù„Ø²Ø± Ø§Ù„Ù…Ø­Ø¯Ø¯
            event.target.classList.add('active');
            
            // ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø­Ù‚ÙŠÙ‚ÙŠØŒ ÙŠÙ…ÙƒÙ†Ùƒ ØªØµÙÙŠØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹
            console.log(`ØªØµÙÙŠØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø­Ø³Ø¨: ${filterType}`);
        }

        // ØªØµÙÙŠØ© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨
        function filterGames(filterType) {
            // Ù†ÙØ³ Ù…Ù†Ø·Ù‚ filterContent
            document.querySelectorAll('.carousel-filters .filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            event.target.classList.add('active');
            
            console.log(`ØªØµÙÙŠØ© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø­Ø³Ø¨: ${filterType}`);
        }

        // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ù†Ø¯ Ø§Ù„ØªØ³Ø¬ÙŠÙ„
        function updateUserProfile() {
            const userProfile = document.getElementById('userProfile');
            
            if (userData.photoURL) {
                userProfile.innerHTML = `<img src="${userData.photoURL}" alt="${userData.name}">`;
            } else {
                userProfile.innerHTML = userData.name.charAt(0).toUpperCase();
            }
            
            userProfile.style.background = 'linear-gradient(135deg, var(--accent-color), var(--primary-color))';
        }

        // Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function showNotification(message) {
            // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                z-index: 1000;
                animation: slideInRight 0.5s ease, fadeOut 0.5s ease 2.5s forwards;
            `;
            
            notification.innerHTML = `
                <i class="fas fa-check-circle"></i> ${message}
            `;
            
            document.body.appendChild(notification);
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 3000);
        }

        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Firebase
        async function login() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            const loginBtn = document.querySelector('#loginForm .btn');
            const originalText = loginBtn.innerHTML;
            
            if (!email || !password) {
                showNotification('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
                return;
            }
            
            try {
                loginBtn.innerHTML = '<span class="loading-spinner"></span> Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ³Ø¬ÙŠÙ„...';
                loginBtn.disabled = true;
                
                await auth.signInWithEmailAndPassword(email, password);
                hideAuthForms();
                showNotification('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­');
                
            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„:', error);
                
                let errorMessage = 'ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„';
                switch (error.code) {
                    case 'auth/user-not-found':
                        errorMessage = 'Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯';
                        break;
                    case 'auth/wrong-password':
                        errorMessage = 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©';
                        break;
                    case 'auth/invalid-email':
                        errorMessage = 'Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ§Ù„Ø­';
                        break;
                    default:
                        errorMessage = error.message;
                }
                
                showNotification(errorMessage);
            } finally {
                loginBtn.innerHTML = originalText;
                loginBtn.disabled = false;
            }
        }

        // ØªØ³Ø¬ÙŠÙ„ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Firebase
        async function register() {
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const registerBtn = document.querySelector('#registerForm .btn');
            const originalText = registerBtn.innerHTML;
            
            if (!name || !email || !password) {
                showNotification('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
                return;
            }
            
            if (password.length < 6) {
                showNotification('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ†è‡³å°‘ 6 Ø£Ø­Ø±Ù');
                return;
            }
            
            try {
                registerBtn.innerHTML = '<span class="loading-spinner"></span> Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨...';
                registerBtn.disabled = true;
                
                const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                await userCredential.user.updateProfile({
                    displayName: name
                });
                
                hideAuthForms();
                showNotification('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­');
                
            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨:', error);
                
                let errorMessage = 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨';
                switch (error.code) {
                    case 'auth/email-already-in-use':
                        errorMessage = 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø§Ù„ÙØ¹Ù„';
                        break;
                    case 'auth/weak-password':
                        errorMessage = 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¶Ø¹ÙŠÙØ©';
                        break;
                    case 'auth/invalid-email':
                        errorMessage = 'Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ§Ù„Ø­';
                        break;
                    default:
                        errorMessage = error.message;
                }
                
                showNotification(errorMessage);
            } finally {
                registerBtn.innerHTML = originalText;
                registerBtn.disabled = false;
            }
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        document.addEventListener('DOMContentLoaded', initializeSite);
    </script>
</body>
</html>
